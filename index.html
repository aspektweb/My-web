<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Natural Wonders | Live Website</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: #0f172a;
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Chiroyli fon */
        .bg-gradient {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        url('https://images.unsplash.com/photo-1472214103451-9374bd1c798e?auto=format&fit=crop&q=80&w=2070');
            background-size: cover;
            background-position: center;
            z-index: -1;
        }

        header {
            text-align: center;
            padding: 60px 20px;
        }

        h1 { font-size: 2.5rem; letter-spacing: 3px; text-transform: uppercase; }
        .subtitle { opacity: 0.7; font-style: italic; margin-top: 10px; }

        /* Postlar chiqadigan joy */
        #feed-container {
            width: 95%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 25px;
            padding-bottom: 50px;
        }

        .post-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            transition: 0.3s;
        }

        .loading-text {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 50px;
        }
    </style>
</head>
<body>

    <div class="bg-gradient"></div>

    <header>
        <h1>Natural Wonders üåç</h1>
        <p class="subtitle">Tabiat mo'jizalarini biz bilan kuzating</p>
    </header>

    <div id="feed-container">
        <p class="loading-text" id="status">Kanal xabarlari yuklanmoqda...</p>
    </div>

    <script>
        // --- SOZLAMALAR ---
        const BOT_TOKEN = '7953904277:AAFbjWRogxUYPv50ooU1RVcZCUbuaixuqgs'; // BotFather bergan API tokenni shu yerga qo'ying
        const CHANNEL_USER = 'naturalwonderss'; // Kanalingizning @ belgisiz nomi

        async function loadLatestPosts() {
            try {
                // 1. Bot orqali kanaldagi so'nggi xabarni aniqlaymiz
                // Telegram Bot API orqali kanaldagi eng oxirgi xabarlar ID sini olish
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/getUpdates`);
                const data = await response.json();
                
                const container = document.getElementById('feed-container');
                const statusText = document.getElementById('status');
                
                // Botga xabar kelgan bo'lsa yoki kanalga admin bo'lsa, oxirgi ID ni taxminan olamiz
                // Telegram vidjeti uchun bizga ID kerak. 
                // Eng oson yo'li: oxirgi 5 ta xabarni chiqarish
                
                statusText.style.display = 'none';
                
                // Oxirgi 10 ta postni chiqarishga harakat qilamiz
                // Eslatma: Telegram vidjetida post ID-si kerak bo'ladi.
                // Biz hozircha taxminiy oxirgi 10 ta postni chiqaramiz.
                
                let startID = 30; // Bu yerga kanalingizdagi hozirgi taxminiy oxirgi xabar raqamini yozing (masalan 22)

                for (let i = 0; i < 10; i++) {
                    let currentID = startID - i;
                    if (currentID <= 0) break;

                    const postDiv = document.createElement('div');
                    postDiv.className = 'post-card';
                    
                    const script = document.createElement('script');
                    script.async = true;
                    script.src = "https://telegram.org/js/telegram-widget.js?22";
                    script.setAttribute("data-telegram-post", `${CHANNEL_USER}/${currentID}`);
                    script.setAttribute("data-width", "100%");
                    script.setAttribute("data-userpic", "true");
                    script.setAttribute("data-color", "29B6F6");
                    
                    postDiv.appendChild(script);
                    container.appendChild(postDiv);
                }

            } catch (error) {
                console.error("Xatolik:", error);
                document.getElementById('status').innerText = "Xabarlarni yuklab bo'lmadi.";
            }
        }

        // Ishga tushirish
        loadLatestPosts();
    </script>
</body>
</html>
